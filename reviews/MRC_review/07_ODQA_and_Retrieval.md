# 07. Linking MRC and Retrieval (ODQA)

> ì˜¤í”ˆ ë„ë©”ì¸ ì§ˆë¬¸ì‘ë‹µ(Open-domain QA)ê³¼ ê¸°ê³„ë…í•´(MRC), ë¬¸ì„œ ê²€ìƒ‰ ì‹œìŠ¤í…œì˜ ì—°ê²°

## ğŸ“˜ ì „ì²´ ìš”ì•½

| êµ¬ë¶„ | í•µì‹¬ ë‚´ìš© |
|------|------------|
| **ODQA** | ì™¸ë¶€ ì§€ì‹ ê¸°ë°˜ì˜ ì§ˆì˜ì‘ë‹µ ì‹œìŠ¤í…œ |
| **Retriever** | ê´€ë ¨ ë¬¸ì„œ ê²€ìƒ‰ (TF-IDF, BM25, Dense Encoder ë“±) |
| **Reader** | ê²€ìƒ‰ëœ ë¬¸ì„œ ë‚´ ì •ë‹µ ì¶”ë¡  (BERT, RoBERTa ë“±) |
| **Distant Supervision** | ìë™ ë°ì´í„°ì…‹ ìƒì„± ê¸°ë²• |
| **Inference** | ê²€ìƒ‰ â†’ ë…í•´ â†’ ìµœì¢… ë‹µë³€ ì¶”ë¡  ê³¼ì • |
| **Recent Trend** | Dense ê¸°ë°˜ ODQA, Multi-passage Reader, Joint Learning êµ¬ì¡° |

---

---

## 1ï¸âƒ£ Introduction to ODQA (Open-domain Question Answering)

### ğŸ§  ê°œë… ì •ë¦¬

- **MRC (Machine Reading Comprehension)**  
  ì£¼ì–´ì§„ ì§€ë¬¸ ë‚´ì—ì„œ ì§ˆë¬¸ì˜ ë‹µì„ ì°¾ëŠ” ê³¼ì •.

- **ODQA (Open-domain Question Answering)**  
  ì‚¬ì „ì— ì§€ë¬¸ì´ ì£¼ì–´ì§€ì§€ ì•Šìœ¼ë©°, ë°©ëŒ€í•œ ì™¸ë¶€ ì§€ì‹(ì˜ˆ: Wikipedia)ì„ ê¸°ë°˜ìœ¼ë¡œ ë‹µì„ ì°¾ì•„ë‚´ëŠ” ì‹œìŠ¤í…œ.  
  í˜„ëŒ€ì˜ ê²€ìƒ‰ì—”ì§„(Google, Naver ë“±)ì€ ì´ ë°©ì‹ì„ í™œìš©í•˜ì—¬ ì§ˆë¬¸ì— ëŒ€í•œ ì§ì ‘ì ì¸ ë‹µë³€ì„ ì œê³µ.

---

## 2ï¸âƒ£ Historical Background

### ğŸ“œ TREC QA Tracks (1999â€“2007)
ì •ë³´ ê²€ìƒ‰(IR) ì¤‘ì‹¬ì˜ QA ì‹œìŠ¤í…œì—ì„œ ì§§ì€ í˜•íƒœì˜ ë‹µë³€ì„ ì œê³µí•˜ëŠ” êµ¬ì¡°ë¡œ ë°œì „í•¨.

**êµ¬ì„±ìš”ì†Œ**
1. **ì§ˆë¬¸ ì²˜ë¦¬ (Question Processing)** â€“ Query ìƒì„±, ë‹µë³€ ìœ í˜• ë¶„ë¥˜  
2. **íŒ¨ì‹œì§€ ê²€ìƒ‰ (Passage Retrieval)** â€“ ë¬¸ì„œ ë‚´ ê´€ë ¨ ë¬¸ì¥ íƒìƒ‰  
3. **ë‹µë³€ ì²˜ë¦¬ (Answer Processing)** â€“ ë¬¸ì„œ ë‚´ì—ì„œ ê·œì¹™ ê¸°ë°˜ìœ¼ë¡œ ë‹µ ì¶”ì¶œ  

ğŸ“Œ ëŒ€í‘œ ì‚¬ë¡€:  
- **IBM Watson (2011, Jeopardy!)**  
  â€œDeepQA Projectâ€ë¡œ ì‚¬ëŒë³´ë‹¤ ë›°ì–´ë‚œ ì„±ëŠ¥ì„ ë³´ì¸ ì´ˆê¸° ODQA ì‹œìŠ¤í…œ.

---

## 3ï¸âƒ£ Retrieverâ€“Reader Approach

| êµ¬ì„± ìš”ì†Œ | ì—­í•  |
|------------|------|
| **Retriever** | ëŒ€ê·œëª¨ ë¬¸ì„œ ì§‘í•©ì—ì„œ ì§ˆë¬¸ê³¼ ê´€ë ¨ ìˆëŠ” ë¬¸ì„œë¥¼ ê²€ìƒ‰ |
| **Reader** | Retrieverê°€ ê°€ì ¸ì˜¨ ë¬¸ì„œì—ì„œ ì§ˆë¬¸ì˜ ì •ë‹µì„ ì¶”ë¡  |

### âš™ï¸ í•™ìŠµ ë°©ì‹

- **Retriever**
  - Sparse ë°©ì‹: TF-IDF, BM25 (í•™ìŠµ ë¶ˆí•„ìš”)
  - Dense ë°©ì‹: BERT, DPR ë“± Encoder í•™ìŠµ í•„ìš”  
- **Reader**
  - SQuAD, KorQuAD ë“±ì˜ MRC ë°ì´í„°ì…‹ìœ¼ë¡œ Fine-tuning ìˆ˜í–‰

---

## 4ï¸âƒ£ Distant Supervision

> ì§ˆë¬¸â€“ë‹µë³€ ìŒ ë°ì´í„°ë¡œë¶€í„° ìë™ìœ¼ë¡œ MRC í•™ìŠµ ë°ì´í„°ë¥¼ ìƒì„±í•˜ëŠ” ë°©ì‹

**ì ˆì°¨ ìš”ì•½**
1. ì§ˆë¬¸ì„ ê¸°ë°˜ìœ¼ë¡œ ìœ„í‚¤í”¼ë””ì•„ ë“±ì—ì„œ ê´€ë ¨ ë¬¸ì„œ í›„ë³´ ê²€ìƒ‰  
2. ì§ˆë¬¸ê³¼ ë¬´ê´€í•˜ê±°ë‚˜ ë¶€ì í•©í•œ ë¬¸ì„œ ì œê±°  
3. ì§ˆë¬¸ê³¼ ê°€ì¥ ë†’ì€ ê´€ë ¨ì„±ì„ ê°€ì§€ëŠ” ë‹¨ë½ì„ **Supporting Evidence(ì§€ì§€ ê·¼ê±°)** ë¡œ ì„ íƒ  

ğŸ’¡ ì¥ì :  
ë³„ë„ì˜ ìˆ˜ì‘ì—… ë¼ë²¨ë§ ì—†ì´ ODQAìš© í•™ìŠµ ë°ì´í„° ìë™ êµ¬ì¶• ê°€ëŠ¥.

---

## 5ï¸âƒ£ Inference (ì¶”ë¡  ë‹¨ê³„)

1. Retrieverê°€ ì§ˆë¬¸ê³¼ ê´€ë ¨ëœ **Top-k ë¬¸ì„œ**ë¥¼ ê²€ìƒ‰  
2. Readerê°€ ê° ë¬¸ì„œë¥¼ ë¶„ì„í•˜ì—¬ ë‹µë³€ í›„ë³´ ìƒì„±  
3. ê°€ì¥ ë†’ì€ ìŠ¤ì½”ì–´ë¥¼ ì–»ì€ ë‹µë³€ì„ ìµœì¢… ë‹µë³€ìœ¼ë¡œ ì„ ì •  

> RetrieverëŠ” â€œì–´ë””ì„œ ë‹µì„ ì°¾ì„ì§€â€,  
> ReaderëŠ” â€œì–´ë–¤ ë‚´ìš©ì´ ë‹µì¸ì§€â€ë¥¼ ê²°ì •í•˜ëŠ” í˜‘ì—… êµ¬ì¡°.

---

## 6ï¸âƒ£ Issues & Recent Approaches

### ğŸ“ Passage Granularity
- ë¬¸ì„œ ë‹¨ìœ„ë¥¼ **Document / Paragraph / Sentence** ì¤‘ ì–´ë””ë¡œ ì„¤ì •í• ì§€ ê²°ì •
- ë‹¨ìœ„ê°€ ì„¸ë°€í• ìˆ˜ë¡ ì—°ì‚°ëŸ‰ì€ ì¦ê°€í•˜ì§€ë§Œ ì •í™•ë„ í–¥ìƒ ê°€ëŠ¥

| ë‹¨ìœ„ | ë°ì´í„° ê·œëª¨ ì˜ˆì‹œ | íŠ¹ì§• |
|------|------------------|------|
| Article | ì•½ 5M | ì „ì²´ ë¬¸ì„œ ìˆ˜ì¤€, ë¹ ë¥´ì§€ë§Œ ì„¸ë°€ë„ ë‚®ìŒ |
| Paragraph | ì•½ 30M | ë¬¸ë‹¨ ë‹¨ìœ„ì˜ ê²€ìƒ‰, ì¼ë°˜ì ìœ¼ë¡œ ê°€ì¥ í™œìš© ë§ìŒ |
| Sentence | ì•½ 75M | ë¬¸ë§¥ ì—°ê²°ì„± ì•½í•˜ë‚˜ ì •ë°€í•œ ê²€ìƒ‰ ê°€ëŠ¥ |

---

### ğŸ§© Single vs Multi-passage Training

| ë°©ì‹ | ì„¤ëª… | ì¥ë‹¨ì  |
|------|------|--------|
| **Single-passage** | ê°œë³„ íŒ¨ì‹œì§€ë³„ë¡œ ë…ë¦½ì ì¸ ì˜ˆì¸¡ ìˆ˜í–‰ | ë‹¨ìˆœí•˜ì§€ë§Œ ë¬¸ë§¥ ì†ì‹¤ |
| **Multi-passage** | ì—¬ëŸ¬ íŒ¨ì‹œì§€ë¥¼ ë¬¶ì–´ Readerê°€ í†µí•© ë¶„ì„ | í’ë¶€í•œ ë¬¸ë§¥ ë°˜ì˜, ì—°ì‚°ëŸ‰ ë§ìŒ |

---

### âš–ï¸ Passage Importance
Retrieverê°€ ì œê³µí•œ **ìœ ì‚¬ë„ ì ìˆ˜(Retrieval Score)** ë¥¼ Readerì˜ ì…ë ¥ì— í¬í•¨í•´,  
íŒ¨ì‹œì§€ì˜ ì¤‘ìš”ë„ë¥¼ ê°€ì¤‘ì¹˜ë¡œ ë°˜ì˜í•˜ëŠ” ë°©ë²•.

---

## 7ï¸âƒ£ Recent Research Directions

- **End-to-End ODQA** : ê²€ìƒ‰ê³¼ ë…í•´ë¥¼ í•˜ë‚˜ì˜ ëª¨ë¸ì—ì„œ ìˆ˜í–‰ (ì˜ˆ: BERTserini, DPR, RAG)
- **Retrieverâ€“Reader Joint Learning** : ê²€ìƒ‰ê³¼ ë…í•´ ëª¨ë“ˆì„ ë™ì‹œì— í•™ìŠµ
- **Dense Retrieval + Generation** : Dense ê¸°ë°˜ ê²€ìƒ‰ ê²°ê³¼ë¥¼ í™œìš©í•´ ìƒì„±í˜• ë‹µë³€ ìƒì„± (RAG, FiD ë“±)

---

## ğŸ“ ì°¸ê³  ìë£Œ

- Chen et al. (2017). *Reading Wikipedia to Answer Open-domain Questions*  
- Yang et al. (2019). *End-to-End Open-Domain Question Answering with BERTserini*  
- Zeng et al. (2020). *A Survey on Machine Reading Comprehension*  
- [FAISS GitHub](https://github.com/facebookresearch/faiss)  
- [ODQA Tutorial (ACL 2020)](https://github.com/danqi/acl2020-openqa-tutorial)

---

### âœï¸ Study Notes

- ODQAëŠ” **ê²€ìƒ‰ ì‹œìŠ¤í…œ(IR)** ê³¼ **ë…í•´ ì‹œìŠ¤í…œ(MRC)** ì˜ ìœµí•©ì´ë‹¤.  
- Dense Retrieverë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¬¸ì„œ ì˜ë¯¸ë¥¼ ë²¡í„° ê³µê°„ì— ë§¤í•‘ â†’ Readerê°€ ì˜ë¯¸ ê¸°ë°˜ ì¶”ë¡  ìˆ˜í–‰.  
- â€œRetrieverê°€ â€˜ì–´ë””ì„œ ì°¾ì„ì§€â€™ë¥¼, Readerê°€ â€˜ë¬´ì—‡ì´ ë‹µì¸ì§€â€™ë¥¼ ê²°ì •í•œë‹¤.â€  
- ìµœê·¼ì—” RAG, FiD, Atlasì²˜ëŸ¼ **Retrieval-Augmented Generation** ë°©ì‹ìœ¼ë¡œ ë°œì „ ì¤‘.

